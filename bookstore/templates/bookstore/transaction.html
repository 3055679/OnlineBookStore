{% extends 'bookstore/base.html' %} {% block body %}
<div class="container text-center mt-5">
  <img src="https://via.placeholder.com/50" alt="Success" />
  <h2 class="mt-3">Thank you for purchasing</h2>

  <div class="mt-4" id="order-details">
    <p><b>Order ID:</b> <span id="order-id"></span></p>
    <p><b>Name:</b> <span id="order-name"></span></p>
    <p><b>Phone:</b> <span id="order-phone"></span></p>
    <p><b>Email:</b> <span id="order-email"></span></p>
    <p><b>Payment Method:</b> <span id="order-payment"></span></p>
    <p><b>Shipping Address:</b> <span id="order-address"></span></p>
  </div>

  <div class="mt-4">
    <a href="#" class="btn btn-primary">ðŸ“¥ Download Invoice</a>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    let orderId = localStorage.getItem("order_id");

    fetch(`/bookstore/get-order-details/?order_id=${orderId}`)
      .then((response) => response.json())
      .then((data) => {
        document.getElementById("order-id").textContent = data.order_id;
        document.getElementById("order-name").textContent = data.name;
        document.getElementById("order-phone").textContent = data.phone;
        document.getElementById("order-email").textContent = data.email;
        document.getElementById("order-payment").textContent =
          data.payment_method;
        document.getElementById("order-address").textContent = data.address;
      });
  });
</script>
{% endblock %}
